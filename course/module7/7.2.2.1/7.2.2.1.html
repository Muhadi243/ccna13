<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <title>7.2.2.1 GRE Tunnel Configuration</title>
    <!-- Content -->
    <link type="text/css" rel="stylesheet" href="../../common/styles/course.css"/>
	<script type="text/javascript" src="../../common/scripts/jquery_bundle.min.js"></script>
	<script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script>
      var myLayout; 
      $(document).ready(function () {
        var frame = document.getElementById('mainFrame');
        if (isTextOnly(window)) {
          frame.setAttribute('src', 'media_7.2.2.1_longdesc.txt');
        } else {
          frame.setAttribute('src', 'media/index.html');
        }
    	myLayout = $('body').layout({
          west__size: 300,
          west__minSize: 300,
          center__minWidth: 100,
          resizerTip: 'Resize',
          sliderTip: 'Slide Open',
          togglerTip_open: 'Close',
          togglerTip_closed: 'Open',
          stateManagement__enabled: true,
          maskIframesOnResize: true,
          livePaneResizing: true,
          onresize_end: resizeTextDiv,
          stateManagement__cookie__name: "ui_pane",
          stateManagement__cookie__expires: 1,
          stateManagement__cookie__path: "/"
        });
      });
      function resizeTextDiv() {
        var DivHeight = document.getElementById("header").offsetHeight;
        document.getElementById("content").style.top = String(DivHeight) + 'px';
      }
    </script>
  </head>
  <body class="onecolumn" onLoad="resizeTextDiv()">
    <div class="ui-layout-west">
      <div id="header">
        <h1>Site-to-Site GRE Tunnels</h1>
        <h2>Configuring GRE Tunnels</h2>
      </div>
      <div id="content">
          <p>GRE is used to create a VPN tunnel between two sites, as shown in Figure 1.  To implement a GRE tunnel, the network administrator must first learn the IP addresses of the endpoints. After that, there are five steps to configuring a GRE tunnel: </p>
          <p></p>
          <p>
            <b>Step 1. </b>Create a tunnel interface using the<span class="cmd"><b> interface tunnel number </b></span>command. </p>
          <p></p>
          <p>
            <b>Step 2. </b>Specify the tunnel source IP address.</p>
          <p></p>
          <p>
            <b>Step 3. </b>Specify the tunnel destination IP address.</p>
          <p></p>
          <p>
            <b>Step 4. </b>Configure an IP address for the tunnel interface.</p>
          <p></p>
          <p>
            <b>Step 5. </b>(Optional) Specify GRE tunnel mode as the tunnel interface mode. GRE tunnel mode is the default tunnel interface mode for Cisco IOS software.</p>
          <p></p>
          <p>The sample configuration in Figure 2 illustrates a basic GRE tunnel configuration for router R1. </p>
          <p></p>
          <p>The configuration of R2 in Figure 3 mirrors the configuration of R1.</p>
          <p></p>
          <p>The minimum configuration requires specification of the tunnel source and destination addresses. The IP subnet must also be configured to provide IP connectivity across the tunnel link. Both tunnel interfaces have the tunnel source set as the local serial S0/0/0 interface and the tunnel destination set as the peer router serial S0/0/0 interface. The IP address is assigned to the tunnel interfaces on both routers. OSPF has also been configured to exchange routes over the GRE tunnel. </p>
          <p></p>
          <p>The individual GRE tunnel command descriptions are displayed in Figure 4.</p>
          <p></p>
          <p>
            <b>Note</b>: When configuring GRE tunnels, it can be difficult to remember which IP networks are associated with the physical interfaces and which IP networks are associated with the tunnel interfaces. Remember that before a GRE tunnel is created, the physical interfaces have already been configured. The<span class="cmd"><b> tunnel source </b></span>and<span class="cmd"><b> tunnel destination </b></span>commands reference the IP addresses of the preconfigured physical interfaces. The<span class="cmd"><b> ip address </b></span>command on the tunnel interfaces refers to an IP network specifically manufactured for the purposes of the GRE tunnel.</p>
        </div>
    </div>
    <iframe id="mainFrame" name="mainFrame" frameborder="0" class="ui-layout-center" alt="interactive graphic"></iframe>
  </body>
</html>
