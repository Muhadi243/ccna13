<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <title>8.3.1.3 Network Flows</title>
    <!-- Content -->
    <link type="text/css" rel="stylesheet" href="../../common/styles/course.css"/>
	<script type="text/javascript" src="../../common/scripts/jquery_bundle.min.js"></script>
	<script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script>
      var myLayout; 
      $(document).ready(function () {
        var frame = document.getElementById('mainFrame');
        if (isTextOnly(window)) {
          frame.setAttribute('src', 'media_8.3.1.3_longdesc.txt');
        } else {
          frame.setAttribute('src', 'media/index.html');
        }
    	myLayout = $('body').layout({
          west__size: 300,
          west__minSize: 300,
          center__minWidth: 100,
          resizerTip: 'Resize',
          sliderTip: 'Slide Open',
          togglerTip_open: 'Close',
          togglerTip_closed: 'Open',
          stateManagement__enabled: true,
          maskIframesOnResize: true,
          livePaneResizing: true,
          onresize_end: resizeTextDiv,
          stateManagement__cookie__name: "ui_pane",
          stateManagement__cookie__expires: 1,
          stateManagement__cookie__path: "/"
        });
      });
      function resizeTextDiv() {
        var DivHeight = document.getElementById("header").offsetHeight;
        document.getElementById("content").style.top = String(DivHeight) + 'px';
      }
    </script>
  </head>
  <body class="onecolumn" onLoad="resizeTextDiv()">
    <div class="ui-layout-west">
      <div id="header">
        <h1>NetFlow</h1>
        <h2>NetFlow Operation</h2>
      </div>
      <div id="content">
          <p>NetFlow breaks down TCP/IP communications for statistical record keeping using the concept of a flow. A flow is a unidirectional stream of packets between a specific source system and a specific destination. The figure demonstrates the flow concept.</p>
          <p></p>
          <p>For NetFlow, which is built around TCP/IP, the source and destination are defined by their network layer IP addresses and their transport layer source and destination port numbers.</p>
          <p></p>
          <p>NetFlow technology has seen several generations that provide more sophistication in defining traffic flows, but “original NetFlow” distinguished flows using a combination of seven fields. Should one of these fields vary in value from another packet, the packets could be safely determined to be from different flows:</p>
          <p>
            <ul>
              <li>Source IP address</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>Destination IP address</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>Source port number</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>Destination port number</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>Layer 3 protocol type</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>Type of Service (ToS) marking</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>Input logical interface</li>
            </ul>
          </p>
          <p></p>
          <p>The first four of the fields NetFlow uses to identify a flow should be familiar. The source and destination IP addresses, plus the source and destination ports, identify the connection between source and destination application. The Layer 3 protocol type identifies the type of header that follows the IP header (usually TCP or UDP, but other options include ICMP). The ToS byte in the IPv4 header holds information about how devices should apply quality of service (QoS) rules to the packets in that flow.</p>
          <p></p>
          <p>Flexible NetFlow supports more options with flow data records. Flexible NetFlow enables an administrator to define records for a Flexible NetFlow flow monitor cache by specifying the user-defined optional and required fields to customize the data collection to suit specific requirements. When defining records for a Flexible NetFlow flow monitor cache, they are referred to as user-defined records. The values in optional fields are added to flows to provide additional information about the traffic in the flows. A change in the value of an optional field does not create a new flow.</p>
        </div>
    </div>
    <iframe id="mainFrame" name="mainFrame" frameborder="0" class="ui-layout-center" alt="interactive graphic"></iframe>
  </body>
</html>
